## Make Building C as Simple as Pie

Mekpie is an opinionated build system for small scale C projects. The core premise of Mekpie is that you should not be spending time worrying about Make files, compiler arguments, or build times, when working on a small C projects. By enforcing a simple directory structure and always providing a clean build, Mekpie saves you time and effort. For added convenience Mekpie takes notes from tools like [Rust's cargo](https://doc.rust-lang.org/cargo/guide/index.html) and [Node's npm](https://www.npmjs.com/) and provides options for building, running, cleaning, and testing your current project.

Mekpie is a small scale project and is not supposed to replace tools like [CMake](https://cmake.org/) or provide any sort of package management capabilities. Use Mekpie when the alternative is a shoddy Make file or manually compiling.

### Installing

*Coming soon*

Mekpie is a python package. Use pip to install it!
```bash
$ pip install mekpie
```

### Getting Started

Create a new project by running
```bash
$ mekpie new "project-name"
project-name created succesfully!
```

Then navigate to the project directory and run
```bash
$ mekpie run
Project succesfully cleaned.
Project succesfully built.
Hello, World!
```

That's it!

### Philosophy

History as a python script. Clean builds. No incremental builds. Small projects, running my Make file or python script took as long as compiling. Dislike IDEs for small projects.

### Creating a Project

Mekpie provides two commands for creating a project. `mekpie new` will attempt to create a new project as a subdirectory of your current location. You will have to provide Mekpie a name for your project. This name will be used as the name for the directory as well as the main `.c` file (don't worry you can change that later).

Alternatively, you can use the `mekpie init` command to create a new project. In this case Mekpie will use the name of the current directory as the project name and setup the project in your current location. 

### Project Structure

When you create a project using either `new` or `init` the following directory structure will be generated.
```txt
project/
    target/
    includes/
    src/
        project-name.c
    tests/
    mek.py
```

The first folder generated by Mekpie, `target/`, is used to store the debug and release binaries generated for your program.

The `includes/` folder is automatically included as an includes directory to your compiler, so you can place any header files you want included in this directory. You can also place subdirectories within `includes/`.

The `src/` folder should contain all your `.c` files. Like `includes/` you can use subdirectories within. By default a main file will be generated by Mekpie with a simple Hello World program to heelp you ensure everything is working correctly.

The `tests/` folder should contain all your test files. Jump [here](#testing) to find out more about tests.

The final file created by Mekpie is `mek.py` which is a small python file that allows you to configure Mekpie.

### Configuration

```python
# This is a standard configuration file for mekpie

# the name of your project
name = 'project-name'
# the .c file containing `main`
main = 'project-name.c'
# any libraries to load
libs = []
# the c compiler configuration to use (gcc/clang)
cc = 'gcc/clang'
# the c compiler command to use on the command line
cmd = 'clang'
# the debugger to use
dbg = 'lldb'
# additional compiler flags
flags = []
```

### Testing

### Commands

#### `new`

#### `init`

#### `test`

#### `clean`

#### `build`

#### `run`

#### `debug`

### Contact

Feel free to send be bug reports or feature requests. If you are interested in my other work, checkout my [website](https://ejrbuss.net).

Email ejrbuss@gmail.com